# 📱 M17 — 모바일 & 성능 최적화 (Mobile & Performance Layer) 시나리오

> **버전**: 1.0
> **의존성**: M7 (대시보드)
> **대상 사용자**: 모든 역할
> **상태**: ✅ 완료

---

## 📱 WP17.1 — 모바일 반응형 UI

### Scenario WP17.1-1: 모바일 사이드바 슬라이드

**Given:**
- 모바일 기기로 접속 (width < 768px)
- 대시보드 페이지에 있다

**When:**
- 햄버거 메뉴 버튼 클릭

**Then:**
- 사이드바가 왼쪽에서 슬라이드 인
- 배경 오버레이 표시
- 메뉴 선택 또는 바깥 클릭 시 슬라이드 아웃

**선행 Scenario:** WP1.1-3

---

### Scenario WP17.1-2: 오버레이 배경 동작

**Given:**
- 모바일에서 사이드바가 열려 있다

**When:**
- 오버레이 영역 클릭

**Then:**
- 사이드바 닫힘
- 오버레이 페이드 아웃

**선행 Scenario:** WP17.1-1

---

### Scenario WP17.1-3: 터치 최적화

**Given:**
- 모바일 기기로 접속

**When:**
- 페이지 렌더링

**Then:**
- 모든 버튼 최소 높이 44px
- 버튼 간 충분한 간격 (8px 이상)
- 터치 하이라이트 효과 적용

**선행 Scenario:** 없음

---

## 🧭 WP17.2 — 하단 네비게이션 바

### Scenario WP17.2-1: 역할별 하단 메뉴 표시

**Given:**
- 학생으로 모바일 접속

**When:**
- 대시보드 페이지 로드

**Then:**
- 하단에 네비게이션 바 표시
- 학생용 주요 메뉴: 홈, AI 멘토, 진단, 일정, 더보기

**선행 Scenario:** WP1.1-3

---

### Scenario WP17.2-2: 현재 페이지 하이라이트

**Given:**
- 하단 네비게이션이 표시되어 있다

**When:**
- 현재 "AI 멘토" 페이지

**Then:**
- AI 멘토 아이콘 하이라이트
- 파란색 강조 표시

**선행 Scenario:** WP17.2-1

---

### Scenario WP17.2-3: 데스크톱에서 숨김

**Given:**
- 데스크톱 브라우저로 접속 (width >= 768px)

**When:**
- 페이지 렌더링

**Then:**
- 하단 네비게이션 숨겨짐
- 사이드바만 표시

**선행 Scenario:** 없음

---

## ⚡ WP17.3 — 성능 최적화

### Scenario WP17.3-1: 이미지 최적화

**Given:**
- 이미지가 포함된 페이지

**When:**
- 페이지 로드

**Then:**
- WebP/AVIF 포맷 우선 제공
- 지연 로딩 (Lazy Loading) 적용
- 적절한 크기로 리사이징

**선행 Scenario:** 없음

---

### Scenario WP17.3-2: 스켈레톤 UI 적용

**Given:**
- 데이터 목록 페이지 접속

**When:**
- API 응답 대기 중

**Then:**
- 스켈레톤 카드/리스트 표시
- Shimmer 애니메이션 적용
- 데이터 로드 후 실제 콘텐츠로 교체

**선행 Scenario:** 없음

---

### Scenario WP17.3-3: API 캐싱

**Given:**
- 동일 API를 30분 이내 재요청

**When:**
- API 호출

**Then:**
- 캐싱된 응답 반환
- 응답 시간 < 100ms
- Cache-Control 헤더 설정

**선행 Scenario:** 없음

---

## 🌐 WP17.4 — 모바일 테스트 환경

### Scenario WP17.4-1: 동적 API URL

**Given:**
- 모바일 기기에서 같은 네트워크 접속

**When:**
- 앱 로드

**Then:**
- getApiUrl()이 현재 호스트 기반 URL 반환
- localhost가 아닌 IP 주소로 API 호출

**선행 Scenario:** 없음

---

### Scenario WP17.4-2: CORS 확장

**Given:**
- 개발 환경에서 다른 origin 요청

**When:**
- API 호출

**Then:**
- CORS 에러 없이 응답
- Access-Control-Allow-Origin: * 설정

**선행 Scenario:** 없음

---

### Scenario WP17.4-3: 전체 네트워크 바인딩

**Given:**
- 개발 서버 시작

**When:**
- 서버가 0.0.0.0:3000에 바인딩

**Then:**
- 같은 네트워크의 모든 기기에서 접속 가능
- 모바일 기기에서 PC의 IP로 접속 가능

**선행 Scenario:** 없음

---

## ✅ 완료 체크리스트

- [x] WP17.1-1: 사이드바 슬라이드
- [x] WP17.1-2: 오버레이 배경
- [x] WP17.1-3: 터치 최적화
- [x] WP17.2-1: 하단 메뉴
- [x] WP17.2-2: 현재 페이지 하이라이트
- [x] WP17.2-3: 데스크톱 숨김
- [x] WP17.3-1: 이미지 최적화
- [x] WP17.3-2: 스켈레톤 UI
- [x] WP17.3-3: API 캐싱
- [x] WP17.4-1: 동적 URL
- [x] WP17.4-2: CORS 확장
- [x] WP17.4-3: 네트워크 바인딩


