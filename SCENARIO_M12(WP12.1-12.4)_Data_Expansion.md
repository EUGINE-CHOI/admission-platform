# 📊 M12 — 데이터 확장 (Data Expansion Layer) 시나리오

> **버전**: 1.0
> **의존성**: M3 (학교/전형 시스템)
> **대상 사용자**: 모든 사용자
> **상태**: ✅ 완료

---

## 🏫 WP12.1 — 중학교 데이터베이스

### Scenario WP12.1-1: 중학교 검색 성공

**Given:**
- 341개 중학교 데이터가 시딩되어 있다
- 사용자가 회원가입 페이지에 있다

**When:**
- 중학교 검색창에 "대청" 입력

**Then:**
- "대청중학교" 등 관련 결과 표시
- 지역별로 그룹핑되어 표시

**선행 Scenario:** 없음 (시드 데이터)

---

### Scenario WP12.1-2: 지역별 중학교 필터링

**Given:**
- 중학교 목록 조회 중

**When:**
- 지역 필터에서 "서울" 선택

**Then:**
- 서울 지역 120개 중학교만 표시
- 다른 지역 중학교는 숨겨짐

**선행 Scenario:** WP12.1-1

---

## 🎓 WP12.2 — 특목고/자사고 확장

### API 명세

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/api/schools?type=SPECIAL` | 특목고 목록 |
| GET | `/api/schools?type=AUTONOMOUS` | 자사고 목록 |
| GET | `/api/schools/:id` | 학교 상세 |

---

### Scenario WP12.2-1: 특목고 목록 조회

**Given:**
- 92개 특목고/자사고 데이터가 존재

**When:**
- `GET /api/schools?type=FOREIGN_HIGH`

**Then:**
- 외고 30개 학교 목록 반환
- 각 학교의 정원, 위치, 특징 포함

**선행 Scenario:** 없음

---

### Scenario WP12.2-2: 학교 상세 정보 조회

**Given:**
- 학교 목록이 표시되어 있다

**When:**
- "대원외고" 클릭

**Then:**
- 학교 상세 페이지 표시
- 정원, 전형, 경쟁률, 특징 표시
- 홈페이지 링크 표시

**선행 Scenario:** WP12.2-1

---

## 📈 WP12.3 — 입시 경쟁률 히스토리

### API 명세

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/api/schools/:id/history` | 경쟁률 히스토리 |

---

### Scenario WP12.3-1: 경쟁률 히스토리 조회

**Given:**
- 2019~2025년 경쟁률 데이터 존재
- 학교 상세 페이지에 있다

**When:**
- 경쟁률 탭 클릭

**Then:**
- 연도별 경쟁률 그래프 표시
- 전형별(일반/사회통합) 경쟁률 비교

**선행 Scenario:** WP12.2-2

---

### Scenario WP12.3-2: 경쟁률 추이 분석

**Given:**
- 경쟁률 히스토리가 표시되어 있다

**When:**
- "추이 분석" 버튼 클릭

**Then:**
- 경쟁률 변화 트렌드 분석 표시
- 상승/하락 추세 표시

**선행 Scenario:** WP12.3-1

---

## 🔗 WP12.4 — 학교 홈페이지 연동

### Scenario WP12.4-1: 학교 홈페이지 바로가기

**Given:**
- 학교 상세 페이지에 있다
- 학교 홈페이지 URL이 등록되어 있다

**When:**
- "학교 홈페이지" 버튼 클릭

**Then:**
- 새 탭에서 학교 홈페이지 열림

**선행 Scenario:** WP12.2-2

---

### Scenario WP12.4-2: 홈페이지 미등록 시 안내

**Given:**
- 학교 상세 페이지에 있다
- 학교 홈페이지 URL이 없다

**When:**
- "학교 홈페이지" 버튼 표시

**Then:**
- 버튼이 비활성화 상태
- "홈페이지 정보 없음" 툴팁 표시

**선행 Scenario:** WP12.2-2

---

## ✅ 완료 체크리스트

- [x] WP12.1-1: 중학교 검색
- [x] WP12.1-2: 지역별 필터
- [x] WP12.2-1: 특목고 목록
- [x] WP12.2-2: 학교 상세
- [x] WP12.3-1: 경쟁률 히스토리
- [x] WP12.3-2: 추이 분석
- [x] WP12.4-1: 홈페이지 바로가기
- [x] WP12.4-2: 미등록 안내

