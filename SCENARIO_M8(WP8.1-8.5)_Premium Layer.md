# ğŸ“ M8 â€” ì»¨ì„¤í„´íŠ¸ ê¸°ëŠ¥ (Premium Layer) ì‹œë‚˜ë¦¬ì˜¤

> **ëª©ì **: í”„ë¦¬ë¯¸ì—„ ì„œë¹„ìŠ¤ì˜ í•µì‹¬ì¸ ì „ë¬¸ ì»¨ì„¤í„´íŠ¸ ìƒë‹´ ê¸°ëŠ¥ ì œê³µ  
> **ì˜ì¡´ì„±**: M1(ê³„ì •), M2(í•™ìƒë°ì´í„°), M4(ì§„ë‹¨), M5(AI), M6(Task), M7(Dashboard)  
> **Last Updated**: 2025-12-06

---

## ğŸ“‹ ê³µí†µ ì •ì˜

### ìƒë‹´ ìƒíƒœ (ConsultationStatus)
| ìƒíƒœ | ì„¤ëª… |
|------|------|
| `PENDING` | í•™ë¶€ëª¨ê°€ ì˜ˆì•½ ìš”ì²­, ì»¨ì„¤í„´íŠ¸ í™•ì • ëŒ€ê¸° |
| `CONFIRMED` | ì»¨ì„¤í„´íŠ¸ê°€ í™•ì •, ìƒë‹´ ì˜ˆì • |
| `COMPLETED` | ìƒë‹´ ì™„ë£Œ |
| `CANCELLED` | ì·¨ì†Œë¨ |

### ë¦¬í¬íŠ¸ ìƒíƒœ (ReportStatus)
| ìƒíƒœ | ì„¤ëª… |
|------|------|
| `DRAFT` | ì´ˆì•ˆ (ìˆ˜ì • ê°€ëŠ¥) |
| `FINALIZED` | í™•ì • (ê³µìœ  ê°€ëŠ¥) |

### ìƒë‹´ ë°©ì‹ (ConsultationMethod)
| ë°©ì‹ | ì„¤ëª… |
|------|------|
| `ONLINE` | í™”ìƒ/ì „í™” ìƒë‹´ |
| `OFFLINE` | ëŒ€ë©´ ìƒë‹´ |

---

## âœ… WP8.0 â€” ì»¨ì„¤í„´íŠ¸ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ (ì‹ ê·œ)

> **ëª©ì **: ì»¨ì„¤í„´íŠ¸ ê³„ì •ì˜ í’ˆì§ˆ ê´€ë¦¬ë¥¼ ìœ„í•œ ê´€ë¦¬ì ìŠ¹ì¸ ì ˆì°¨

### Scenario WP8.0-1: ì»¨ì„¤í„´íŠ¸ íšŒì›ê°€ì… í›„ ìŠ¹ì¸ ëŒ€ê¸° ìƒíƒœ

**Given:**
- ì‚¬ìš©ìê°€ Role=CONSULTANTë¡œ íšŒì›ê°€ì…ì„ ì™„ë£Œí–ˆë‹¤.

**When:**
- íšŒì›ê°€ì…ì´ ì„±ê³µí•œë‹¤.

**Then:**
- ConsultantStatus=PENDING ìƒíƒœë¡œ ê³„ì •ì´ ìƒì„±ëœë‹¤.
- ì»¨ì„¤í„´íŠ¸ ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ ì‹œ "ìŠ¹ì¸ ëŒ€ê¸° ì¤‘" ì•ˆë‚´ í˜ì´ì§€ê°€ í‘œì‹œëœë‹¤.

**ì„ í–‰ Scenario:** WP1.1-1 (íšŒì›ê°€ì…)

---

### Scenario WP8.0-2: ê´€ë¦¬ìê°€ ì»¨ì„¤í„´íŠ¸ ìŠ¹ì¸

**Given:**
- ConsultantStatus=PENDINGì¸ ì»¨ì„¤í„´íŠ¸ê°€ ì¡´ì¬í•œë‹¤.
- ê´€ë¦¬ì(ADMIN)ê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.

**When:**
- ê´€ë¦¬ìê°€ í•´ë‹¹ ì»¨ì„¤í„´íŠ¸ì˜ "ìŠ¹ì¸" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- ConsultantStatus=APPROVEDë¡œ ë³€ê²½ëœë‹¤.
- ì»¨ì„¤í„´íŠ¸ì—ê²Œ ìŠ¹ì¸ ì•Œë¦¼ì´ ì „ì†¡ëœë‹¤.
- ì»¨ì„¤í„´íŠ¸ëŠ” ìƒë‹´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

**ì„ í–‰ Scenario:** WP8.0-1

---

### Scenario WP8.0-3: ê´€ë¦¬ìê°€ ì»¨ì„¤í„´íŠ¸ ê±°ë¶€

**Given:**
- ConsultantStatus=PENDINGì¸ ì»¨ì„¤í„´íŠ¸ê°€ ì¡´ì¬í•œë‹¤.

**When:**
- ê´€ë¦¬ìê°€ ê±°ë¶€ ì‚¬ìœ ì™€ í•¨ê»˜ "ê±°ë¶€" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- ConsultantStatus=REJECTEDë¡œ ë³€ê²½ëœë‹¤.
- ì»¨ì„¤í„´íŠ¸ì—ê²Œ ê±°ë¶€ ì‚¬ìœ ê°€ í¬í•¨ëœ ì•Œë¦¼ì´ ì „ì†¡ëœë‹¤.

**ì„ í–‰ Scenario:** WP8.0-1

---

### Scenario WP8.0-4: PENDING ìƒíƒœ ì»¨ì„¤í„´íŠ¸ê°€ ìƒë‹´ ê¸°ëŠ¥ ì ‘ê·¼ ì‹œ ì°¨ë‹¨

**Given:**
- ConsultantStatus=PENDINGì¸ ì»¨ì„¤í„´íŠ¸ê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.

**When:**
- ìƒë‹´ ì˜ˆì•½ ëª©ë¡(/api/consultant/consultations)ì„ ì¡°íšŒí•˜ë ¤ í•œë‹¤.

**Then:**
- 403 Forbiddenê³¼ "ì»¨ì„¤í„´íŠ¸ ìŠ¹ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤" ë©”ì‹œì§€ê°€ ë°˜í™˜ëœë‹¤.

**ì„ í–‰ Scenario:** WP8.0-1

---

## âœ… WP8.1 â€” ì»¨ì„¤í„´íŠ¸ ë¡œê·¸ì¸ & ê¶Œí•œ

> **ëª©ì **: ì»¨ì„¤í„´íŠ¸ ì „ìš© ì—…ë¬´ í™˜ê²½ ì œê³µ

### Scenario WP8.1-1: ìŠ¹ì¸ëœ ì»¨ì„¤í„´íŠ¸ ë¡œê·¸ì¸ ì„±ê³µ

**Given:**
- ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ê°€ ë“±ë¡ëœ ì»¨ì„¤í„´íŠ¸ ê³„ì •ì´ ìˆë‹¤.
- Role=CONSULTANT, ConsultantStatus=APPROVEDì´ë‹¤.

**When:**
- í•´ë‹¹ ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸ ìš”ì²­ì„ ë³´ë‚¸ë‹¤.

**Then:**
- 200 OKì™€ í•¨ê»˜ JWT í† í°ì´ ë°˜í™˜ëœë‹¤.
- ì‘ë‹µì— role=CONSULTANT, consultantStatus=APPROVEDê°€ í¬í•¨ëœë‹¤.
- ì»¨ì„¤í„´íŠ¸ ëŒ€ì‹œë³´ë“œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ëœë‹¤.

**ì„ í–‰ Scenario:** WP8.0-2 (ì»¨ì„¤í„´íŠ¸ ìŠ¹ì¸)

---

### Scenario WP8.1-2: í•™ìƒ ê³„ì •ì´ ì»¨ì„¤í„´íŠ¸ ì „ìš© APIì— ì ‘ê·¼ ì‹œ ì°¨ë‹¨

**Given:**
- Role=STUDENTì¸ í•™ìƒ ê³„ì •ì´ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.

**When:**
- í•™ìƒì´ ì»¨ì„¤í„´íŠ¸ ì „ìš© API(/api/consultant/dashboard)ë¥¼ í˜¸ì¶œí•œë‹¤.

**Then:**
- 403 Forbiddenê³¼ "ì»¨ì„¤í„´íŠ¸ ì „ìš© ê¸°ëŠ¥ì…ë‹ˆë‹¤" ë©”ì‹œì§€ê°€ ë°˜í™˜ëœë‹¤.

**ì„ í–‰ Scenario:** WP1.1-3 (í•™ìƒ ë¡œê·¸ì¸)

---

### Scenario WP8.1-3: ì»¨ì„¤í„´íŠ¸ ëŒ€ì‹œë³´ë“œ ì¡°íšŒ

**Given:**
- ìŠ¹ì¸ëœ ì»¨ì„¤í„´íŠ¸ê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.
- ì˜¤ëŠ˜ ì˜ˆì •ëœ ìƒë‹´ 2ê±´, ëŒ€ê¸° ì¤‘ì¸ ì˜ˆì•½ ìš”ì²­ 3ê±´ì´ ìˆë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ ëŒ€ì‹œë³´ë“œë¥¼ ì¡°íšŒí•œë‹¤.

**Then:**
- ë‹¤ìŒ ì •ë³´ê°€ í‘œì‹œëœë‹¤:
  - ì˜¤ëŠ˜ì˜ ìƒë‹´ ì¼ì • (2ê±´)
  - ëŒ€ê¸° ì¤‘ì¸ ì˜ˆì•½ ìš”ì²­ (3ê±´)
  - ì´ë²ˆ ì£¼ ìƒë‹´ í†µê³„
  - ìµœê·¼ ì‘ì„±í•œ ë¦¬í¬íŠ¸ ëª©ë¡

**ì„ í–‰ Scenario:** WP8.1-1

---

### Scenario WP8.1-4: ì»¨ì„¤í„´íŠ¸ ê°€ìš© ì‹œê°„ ì„¤ì •

**Given:**
- ìŠ¹ì¸ëœ ì»¨ì„¤í„´íŠ¸ê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.

**When:**
- ê°€ìš© ì‹œê°„ ì„¤ì • í˜ì´ì§€ì—ì„œ ë‹¤ìŒì„ ì…ë ¥í•œë‹¤:
  - ì›”~ê¸ˆ: 10:00~18:00
  - ì ì‹¬ì‹œê°„ ì œì™¸: 12:00~13:00
  - ìƒë‹´ ì†Œìš”ì‹œê°„: 60ë¶„

**Then:**
- ê°€ìš© ì‹œê°„ì´ ì €ì¥ëœë‹¤.
- í•™ë¶€ëª¨ê°€ ì˜ˆì•½ ì‹œ í•´ë‹¹ ì‹œê°„ëŒ€ë§Œ ì„ íƒ ê°€ëŠ¥í•˜ë‹¤.

**ì„ í–‰ Scenario:** WP8.1-1

---

## ğŸ“… WP8.2 â€” ìƒë‹´ ì˜ˆì•½ ì‹œìŠ¤í…œ

> **ëª©ì **: í•™ë¶€ëª¨ì™€ ì»¨ì„¤í„´íŠ¸ ê°„ì˜ ìƒë‹´ ìŠ¤ì¼€ì¤„ë§

### Scenario WP8.2-0: í•™ë¶€ëª¨ê°€ ì»¨ì„¤í„´íŠ¸ ëª©ë¡ ì¡°íšŒ (ì‹ ê·œ)

**Given:**
- í•™ë¶€ëª¨ ê³„ì •ì´ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.
- ConsultantStatus=APPROVEDì¸ ì»¨ì„¤í„´íŠ¸ê°€ 3ëª… ì¡´ì¬í•œë‹¤.

**When:**
- í•™ë¶€ëª¨ê°€ "ì»¨ì„¤í„´íŠ¸ ì°¾ê¸°" í˜ì´ì§€ì— ì ‘ì†í•œë‹¤.

**Then:**
- ìŠ¹ì¸ëœ ì»¨ì„¤í„´íŠ¸ ëª©ë¡ì´ í‘œì‹œëœë‹¤:
  - ì´ë¦„
  - í”„ë¡œí•„ ì´ë¯¸ì§€
  - ì „ë¬¸ ë¶„ì•¼ (specialty)
  - ì†Œê°œê¸€ (bio) ì¼ë¶€
  - í‰ê·  í‰ì  (í–¥í›„ í™•ì¥)
- ì»¨ì„¤í„´íŠ¸ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ í”„ë¡œí•„ì„ ë³¼ ìˆ˜ ìˆë‹¤.

**ì„ í–‰ Scenario:** WP8.0-2 (ì»¨ì„¤í„´íŠ¸ ìŠ¹ì¸)

---

### Scenario WP8.2-1: í•™ë¶€ëª¨ê°€ ì»¨ì„¤í„´íŠ¸ ìƒë‹´ ì˜ˆì•½ ìƒì„±

**Given:**
- í•™ë¶€ëª¨ ê³„ì •ì´ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.
- ìµœì†Œ 1ëª…ì˜ ìë…€ê°€ family_idë¡œ ì—°ê²°ë˜ì–´ ìˆë‹¤.
- í™œì„±í™”ëœ êµ¬ë…(í”„ë¦¬ë¯¸ì—„ í”Œëœ)ì´ ìˆë‹¤. *(ë˜ëŠ” MVPì—ì„œëŠ” ìƒëµ)*

**When:**
- í•™ë¶€ëª¨ê°€:
  1. ì»¨ì„¤í„´íŠ¸ ëª©ë¡ì—ì„œ ì»¨ì„¤í„´íŠ¸ë¥¼ ì„ íƒí•˜ê³ 
  2. ìë…€ 1ëª…ì„ ì„ íƒí•˜ê³ 
  3. ê°€ìš© ì‹œê°„ ì¤‘ ì›í•˜ëŠ” ì¼ì‹œë¥¼ ì„ íƒí•˜ê³ 
  4. ìƒë‹´ ì£¼ì œë¥¼ ì…ë ¥í•œ ë’¤
  5. "ìƒë‹´ ì˜ˆì•½"ì„ ìš”ì²­í•œë‹¤.

**Then:**
- consultations í…Œì´ë¸”ì— status=PENDINGì¸ ì˜ˆì•½ì´ ìƒì„±ëœë‹¤.
- ì»¨ì„¤í„´íŠ¸ì—ê²Œ ìƒˆ ì˜ˆì•½ ìš”ì²­ ì•Œë¦¼ì´ ì „ì†¡ëœë‹¤.
- í•™ë¶€ëª¨ì—ê²Œ "ì˜ˆì•½ ìš”ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.
- EventLogì— CONSULTATION_REQUESTED ì´ë²¤íŠ¸ê°€ ê¸°ë¡ëœë‹¤.

**ì„ í–‰ Scenario:** WP1.3-2 (ê°€ì¡± ì—°ê²°), WP8.1-4 (ê°€ìš© ì‹œê°„)

---

### Scenario WP8.2-2: êµ¬ë…ì´ ì—†ëŠ” ìƒíƒœì—ì„œ ìƒë‹´ ì˜ˆì•½ ì‹œë„

**Given:**
- í•™ë¶€ëª¨ ê³„ì •ì´ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.
- êµ¬ë… ìƒíƒœê°€ inactiveì´ë‹¤. *(M9 ì—°ë™ ì‹œ)*

**When:**
- ì»¨ì„¤í„´íŠ¸ì™€ ìƒë‹´ ì˜ˆì•½ì„ ì‹œë„í•œë‹¤.

**Then:**
- 402 Payment Requiredì™€ í•¨ê»˜ "ìƒë‹´ ì˜ˆì•½ì€ í”„ë¦¬ë¯¸ì—„ êµ¬ë…ì´ í•„ìš”í•©ë‹ˆë‹¤" ë©”ì‹œì§€ê°€ ë°˜í™˜ëœë‹¤.
- êµ¬ë… í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ë²„íŠ¼ì´ í‘œì‹œëœë‹¤.

**ì„ í–‰ Scenario:** ì—†ìŒ

---

### Scenario WP8.2-3: ì»¨ì„¤í„´íŠ¸ì˜ ì¼ì • ì¤‘ë³µìœ¼ë¡œ ì˜ˆì•½ ì‹¤íŒ¨

**Given:**
- ì»¨ì„¤í„´íŠ¸ Aì˜ 2025-12-10 14:00ì— ì´ë¯¸ CONFIRMED ìƒíƒœì˜ ìƒë‹´ì´ ìˆë‹¤.

**When:**
- í•™ë¶€ëª¨ê°€ ê°™ì€ ì»¨ì„¤í„´íŠ¸, ê°™ì€ ì‹œê°„ëŒ€ì— ì˜ˆì•½ì„ ì‹œë„í•œë‹¤.

**Then:**
- 409 Conflictì™€ "í•´ë‹¹ ì‹œê°„ëŒ€ëŠ” ì´ë¯¸ ì˜ˆì•½ë˜ì—ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ê°€ ë°˜í™˜ëœë‹¤.
- ë‹¤ë¥¸ ê°€ìš© ì‹œê°„ì´ ì œì•ˆëœë‹¤.

**ì„ í–‰ Scenario:** WP8.2-4

---

### Scenario WP8.2-4: ì»¨ì„¤í„´íŠ¸ê°€ ì˜ˆì•½ ìš”ì²­ í™•ì •

**Given:**
- ì»¨ì„¤í„´íŠ¸ì—ê²Œ status=PENDINGì¸ ì˜ˆì•½ ìš”ì²­ì´ ì¡´ì¬í•œë‹¤.
- ì»¨ì„¤í„´íŠ¸ê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ í•´ë‹¹ ì˜ˆì•½ì˜ "í™•ì •" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- ì˜ˆì•½ ìƒíƒœê°€ CONFIRMEDë¡œ ë³€ê²½ëœë‹¤.
- í•™ë¶€ëª¨ì—ê²Œ "ìƒë‹´ì´ í™•ì •ë˜ì—ˆìŠµë‹ˆë‹¤" ì•Œë¦¼ì´ ì „ì†¡ëœë‹¤.
- í•™ìƒì—ê²Œë„ ìƒë‹´ ì¼ì • ì•Œë¦¼ì´ ì „ì†¡ëœë‹¤.
- EventLogì— CONSULTATION_CONFIRMED ì´ë²¤íŠ¸ê°€ ê¸°ë¡ëœë‹¤.

**ì„ í–‰ Scenario:** WP8.2-1

---

### Scenario WP8.2-5: ì»¨ì„¤í„´íŠ¸ê°€ ì˜ˆì•½ ìš”ì²­ ê±°ì ˆ

**Given:**
- ì»¨ì„¤í„´íŠ¸ì—ê²Œ status=PENDINGì¸ ì˜ˆì•½ ìš”ì²­ì´ ì¡´ì¬í•œë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ ê±°ì ˆ ì‚¬ìœ ë¥¼ ì…ë ¥í•˜ê³  "ê±°ì ˆ" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- ì˜ˆì•½ ìƒíƒœê°€ CANCELLEDë¡œ ë³€ê²½ëœë‹¤.
- cancelReasonì— ê±°ì ˆ ì‚¬ìœ ê°€ ì €ì¥ëœë‹¤.
- í•™ë¶€ëª¨ì—ê²Œ "ìƒë‹´ ìš”ì²­ì´ ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤" ì•Œë¦¼ê³¼ ì‚¬ìœ ê°€ ì „ì†¡ëœë‹¤.

**ì„ í–‰ Scenario:** WP8.2-1

---

### Scenario WP8.2-6: í•™ë¶€ëª¨ê°€ ì˜ˆì•½ ì·¨ì†Œ

**Given:**
- status=PENDING ë˜ëŠ” CONFIRMEDì¸ ìƒë‹´ ì˜ˆì•½ì´ ì¡´ì¬í•œë‹¤.
- ì˜ˆì•½í•œ í•™ë¶€ëª¨ê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.

**When:**
- í•™ë¶€ëª¨ê°€ "ì˜ˆì•½ ì·¨ì†Œ" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- ì˜ˆì•½ ìƒíƒœê°€ CANCELLEDë¡œ ë³€ê²½ëœë‹¤.
- ì»¨ì„¤í„´íŠ¸ì—ê²Œ ì·¨ì†Œ ì•Œë¦¼ì´ ì „ì†¡ëœë‹¤.

**ì„ í–‰ Scenario:** WP8.2-1

---

### Scenario WP8.2-7: ì»¨ì„¤í„´íŠ¸ ê°€ìš© ì‹œê°„ ì¡°íšŒ

**Given:**
- ì»¨ì„¤í„´íŠ¸ Aê°€ ì›”~ê¸ˆ 10:00~18:00 ê°€ìš© ì‹œê°„ì„ ì„¤ì •í–ˆë‹¤.
- 12ì›” 10ì¼ 14:00ì— ì´ë¯¸ ì˜ˆì•½ì´ ìˆë‹¤.

**When:**
- í•™ë¶€ëª¨ê°€ ì»¨ì„¤í„´íŠ¸ Aì˜ 12ì›” 10ì¼ ì˜ˆì•½ ê°€ëŠ¥ ì‹œê°„ì„ ì¡°íšŒí•œë‹¤.

**Then:**
- 10:00, 11:00, 13:00, 15:00, 16:00, 17:00 ìŠ¬ë¡¯ì´ í‘œì‹œëœë‹¤.
- 14:00ì€ "ì˜ˆì•½ë¨"ìœ¼ë¡œ í‘œì‹œë˜ì–´ ì„ íƒ ë¶ˆê°€í•˜ë‹¤.

**ì„ í–‰ Scenario:** WP8.1-4

---

## ğŸ—’ WP8.3 â€” ìƒë‹´ í˜ì´ì§€ + ê¸°ë¡ ê¸°ëŠ¥

> **ëª©ì **: ì»¨ì„¤í„´íŠ¸ì˜ ìƒë‹´ ì¤€ë¹„ ë° ê¸°ë¡ ê´€ë¦¬

### Scenario WP8.3-1: ì»¨ì„¤í„´íŠ¸ê°€ ë³¸ì¸ì—ê²Œ ë°°ì •ëœ ìƒë‹´ ìƒì„¸ ì¡°íšŒ

**Given:**
- ì»¨ì„¤í„´íŠ¸ Aì—ê²Œ ë°°ì •ëœ ìƒë‹´ ì˜ˆì•½ì´ CONFIRMED ìƒíƒœë¡œ ì¡´ì¬í•œë‹¤.
- ì»¨ì„¤í„´íŠ¸ Aê°€ ë¡œê·¸ì¸í•œ ìƒíƒœë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ Aê°€ í•´ë‹¹ ìƒë‹´ì˜ ìƒì„¸ í˜ì´ì§€ë¥¼ ìš”ì²­í•œë‹¤.

**Then:**
- ë‹¤ìŒ ì •ë³´ê°€ 200 OKì™€ í•¨ê»˜ ë°˜í™˜ëœë‹¤:
  - ìƒë‹´ ì˜ˆì•½ ì •ë³´ (ì¼ì‹œ, ë°©ì‹, ì£¼ì œ)
  - í•™ìƒ ê¸°ë³¸ ì •ë³´ (ì´ë¦„, í•™ë…„, í•™êµ)
  - í•™ë¶€ëª¨ ì •ë³´ (ì´ë¦„, ì—°ë½ì²˜)

**ì„ í–‰ Scenario:** WP8.1-1, WP8.2-4

---

### Scenario WP8.3-2: ë‹¤ë¥¸ ì»¨ì„¤í„´íŠ¸ì˜ ìƒë‹´ì— ì ‘ê·¼ ì‹œ ì°¨ë‹¨

**Given:**
- ìƒë‹´ XëŠ” ì»¨ì„¤í„´íŠ¸ Aì—ê²Œ ë°°ì •ë˜ì–´ ìˆë‹¤.
- ì»¨ì„¤í„´íŠ¸ Bê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ Bê°€ ìƒë‹´ Xì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•˜ë ¤ í•œë‹¤.

**Then:**
- 403 Forbiddenê³¼ "í•´ë‹¹ ìƒë‹´ì— ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤" ë©”ì‹œì§€ê°€ ë°˜í™˜ëœë‹¤.

**ì„ í–‰ Scenario:** ì—†ìŒ

---

### Scenario WP8.3-3: í•™ìƒ ìš”ì•½ ì •ë³´ ì¡°íšŒ (ìƒë‹´ ì¤€ë¹„ìš©)

**Given:**
- ì»¨ì„¤í„´íŠ¸ê°€ CONFIRMED ìƒíƒœì˜ ìƒë‹´ ìƒì„¸ í˜ì´ì§€ì— ìˆë‹¤.

**When:**
- "í•™ìƒ ì •ë³´" íƒ­ì„ í´ë¦­í•œë‹¤.

**Then:**
- ë‹¤ìŒ ìš”ì•½ ì •ë³´ê°€ í‘œì‹œëœë‹¤:
  - **ì„±ì  ìš”ì•½**: ì£¼ìš” ê³¼ëª© í‰ê· , ì¶”ì´
  - **í™œë™ ìš”ì•½**: ë™ì•„ë¦¬, ë´‰ì‚¬í™œë™, ë…ì„œ í˜„í™©
  - **ì§„ë‹¨ ê²°ê³¼**: ìµœê·¼ ì§„ë‹¨ ì ìˆ˜, ì¶”ì²œ í•™êµ Top 3
  - **ì•¡ì…˜ í”Œëœ**: í˜„ì¬ ì§„í–‰ ì¤‘ì¸ í”Œëœê³¼ ì§„í–‰ë¥ 
  - **íƒ€ì„ë¼ì¸**: ìµœê·¼ í™œë™ ì´ë ¥

**ì„ í–‰ Scenario:** WP8.3-1, M2~M7 ë°ì´í„° ì¡´ì¬

---

### Scenario WP8.3-4: ì»¨ì„¤í„´íŠ¸ê°€ ìƒë‹´ ë…¸íŠ¸ ì €ì¥

**Given:**
- ì»¨ì„¤í„´íŠ¸ Aê°€ ë°°ì •ëœ ìƒë‹´ ìƒì„¸ í˜ì´ì§€ì— ì ‘ì†í•´ ìˆë‹¤.
- ìƒë‹´ì´ ì§„í–‰ë˜ì—ˆê±°ë‚˜ ì§„í–‰ ì¤‘ì´ë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ ìƒë‹´ ë‚´ìš© ìš”ì•½ê³¼ ì£¼ìš” ì½”ë©˜íŠ¸ë¥¼ ì…ë ¥í•˜ê³  "ì €ì¥" ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤.

**Then:**
- consultation_notes í…Œì´ë¸”ì— ë…¸íŠ¸ê°€ ì €ì¥ëœë‹¤.
- "ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.
- ê°™ì€ ìƒë‹´ì— ì—¬ëŸ¬ ê°œì˜ ë…¸íŠ¸ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

**ì„ í–‰ Scenario:** WP8.3-1

---

### Scenario WP8.3-5: ìƒë‹´ ë…¸íŠ¸ ìˆ˜ì •

**Given:**
- ì´ë¯¸ ì €ì¥ëœ ìƒë‹´ ë…¸íŠ¸ê°€ ì¡´ì¬í•œë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ ë…¸íŠ¸ ë‚´ìš©ì„ ìˆ˜ì •í•˜ê³  "ì €ì¥"ì„ í´ë¦­í•œë‹¤.

**Then:**
- ë…¸íŠ¸ê°€ ì—…ë°ì´íŠ¸ëœë‹¤.
- updatedAt íƒ€ì„ìŠ¤íƒ¬í”„ê°€ ê°±ì‹ ëœë‹¤.

**ì„ í–‰ Scenario:** WP8.3-4

---

### Scenario WP8.3-6: ì»¨ì„¤í„´íŠ¸ê°€ ìƒë‹´ ì™„ë£Œ ì²˜ë¦¬

**Given:**
- CONFIRMED ìƒíƒœì˜ ìƒë‹´ì´ ì¡´ì¬í•œë‹¤.
- ìƒë‹´ ì‹œê°„ì´ ì§€ë‚¬ë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ "ìƒë‹´ ì™„ë£Œ" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- ìƒë‹´ ìƒíƒœê°€ COMPLETEDë¡œ ë³€ê²½ëœë‹¤.
- ë¦¬í¬íŠ¸ ìƒì„± ë²„íŠ¼ì´ í™œì„±í™”ëœë‹¤.
- EventLogì— ìƒë‹´ ì™„ë£Œ ì´ë²¤íŠ¸ê°€ ê¸°ë¡ëœë‹¤.

**ì„ í–‰ Scenario:** WP8.3-4

---

## ğŸ§  WP8.4 â€” AI ë³´ì¡° ìƒë‹´ ë¦¬í¬íŠ¸ ìƒì„±

> **ëª©ì **: AIë¥¼ í™œìš©í•œ íš¨ìœ¨ì ì¸ ìƒë‹´ ë¦¬í¬íŠ¸ ì‘ì„± ì§€ì›

### Scenario WP8.4-1: AIê°€ ìƒë‹´ ë¦¬í¬íŠ¸ ì´ˆì•ˆ ìƒì„± ì„±ê³µ

**Given:**
- í•´ë‹¹ í•™ìƒì˜ ì„±ì /í™œë™/ì§„ë‹¨/ì•¡ì…˜ í”Œëœ ë°ì´í„°ê°€ ì¡´ì¬í•œë‹¤.
- ìƒë‹´ ë…¸íŠ¸ê°€ ìµœì†Œ 1ê°œ ì´ìƒ ì €ì¥ë˜ì–´ ìˆë‹¤.
- ìƒë‹´ ìƒíƒœê°€ COMPLETEDì´ë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ "AI ë¦¬í¬íŠ¸ ì´ˆì•ˆ ìƒì„±" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- ë°±ì—”ë“œ AI ëª¨ë“ˆì´ ë‹¤ìŒ ë°ì´í„°ë¥¼ ì¢…í•©í•˜ì—¬ ë¦¬í¬íŠ¸ ì´ˆì•ˆì„ ìƒì„±í•œë‹¤:
  - í•™ìƒ ì„±ì /í™œë™ ë°ì´í„°
  - ì§„ë‹¨ ê²°ê³¼
  - ìƒë‹´ ë…¸íŠ¸ ë‚´ìš©
- consultation_reports í…Œì´ë¸”ì— status=DRAFTì¸ ë¦¬í¬íŠ¸ê°€ ìƒì„±ëœë‹¤.
- ì»¨ì„¤í„´íŠ¸ì—ê²Œ í¸ì§‘ ê°€ëŠ¥í•œ ë¦¬í¬íŠ¸ ì´ˆì•ˆì´ í™”ë©´ì— í‘œì‹œëœë‹¤.

**ì„ í–‰ Scenario:** WP8.3-6, WP5.1 (AI Orchestrator)

---

### Scenario WP8.4-2: í•„ìˆ˜ ë°ì´í„° ë¶€ì¡±ìœ¼ë¡œ AI ë¦¬í¬íŠ¸ ìƒì„± ì‹¤íŒ¨

**Given:**
- í•™ìƒì— ëŒ€í•´ ì§„ë‹¨ ê²°ê³¼ê°€ ì•„ì§ ì—†ë‹¤ (ê³ ì… ì§„ë‹¨ ë¯¸ì‹¤ì‹œ).

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ AI ë¦¬í¬íŠ¸ ìƒì„±ì„ ìš”ì²­í•œë‹¤.

**Then:**
- 400 Bad Requestì™€ í•¨ê»˜ ë‹¤ìŒ ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤:
  - "ì§„ë‹¨ ê²°ê³¼ê°€ ì—†ì–´ AI ë¦¬í¬íŠ¸ ìƒì„±ì„ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
  - "í•™ìƒì—ê²Œ ì§„ë‹¨ ì‹¤í–‰ì„ ìš”ì²­í•´ ì£¼ì„¸ìš”"

**ì„ í–‰ Scenario:** ì—†ìŒ

---

### Scenario WP8.4-3: AI í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ Graceful Fallback

**Given:**
- OpenAI APIê°€ ì¼ì‹œì ìœ¼ë¡œ ì¥ì•  ìƒíƒœì´ê±°ë‚˜ íƒ€ì„ì•„ì›ƒì´ ë°œìƒí•œë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ AI ë¦¬í¬íŠ¸ ìƒì„±ì„ ì‹œë„í•œë‹¤.

**Then:**
- "í˜„ì¬ AI ë¦¬í¬íŠ¸ ìƒì„±ì„ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”." ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.
- "ìˆ˜ë™ìœ¼ë¡œ ë¦¬í¬íŠ¸ ì‘ì„±" ë²„íŠ¼ì´ ì œê³µëœë‹¤.
- ê¸°ì¡´ ìƒë‹´ ë…¸íŠ¸ì™€ í•™ìƒ ë°ì´í„°ë¡œ ìˆ˜ë™ ì‘ì„±ì´ ê°€ëŠ¥í•˜ë‹¤.

**ì„ í–‰ Scenario:** ì—†ìŒ

---

### Scenario WP8.4-4: ì»¨ì„¤í„´íŠ¸ê°€ AI ì´ˆì•ˆ ìˆ˜ì •

**Given:**
- AIê°€ ìƒì„±í•œ ë¦¬í¬íŠ¸ ì´ˆì•ˆ(status=DRAFT)ì´ ì¡´ì¬í•œë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ ë¦¬í¬íŠ¸ ë‚´ìš©ì„ ìˆ˜ì •í•˜ê³  "ì €ì¥" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- content í•„ë“œê°€ ì—…ë°ì´íŠ¸ëœë‹¤.
- aiDraftContentì—ëŠ” ì›ë³¸ AI ì´ˆì•ˆì´ ë³´ì¡´ëœë‹¤.
- "ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.

**ì„ í–‰ Scenario:** WP8.4-1

---

### Scenario WP8.4-5: ì»¨ì„¤í„´íŠ¸ê°€ ë¦¬í¬íŠ¸ í™•ì •

**Given:**
- status=DRAFTì¸ ë¦¬í¬íŠ¸ê°€ ì¡´ì¬í•œë‹¤.
- ì»¨ì„¤í„´íŠ¸ê°€ ë‚´ìš©ì„ ê²€í†  ì™„ë£Œí–ˆë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ "ë¦¬í¬íŠ¸ í™•ì •" ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- statusê°€ FINALIZEDë¡œ ë³€ê²½ëœë‹¤.
- "ë¦¬í¬íŠ¸ê°€ í™•ì •ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.
- ë” ì´ìƒ ë‚´ìš© ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ (ìˆ˜ì • ì‹œ ìƒˆ ë²„ì „ ìƒì„± í•„ìš”).

**ì„ í–‰ Scenario:** WP8.4-4

---

## ğŸ“¤ WP8.5 â€” ë¦¬í¬íŠ¸ ê³µìœ  ê¸°ëŠ¥

> **ëª©ì **: í™•ì •ëœ ìƒë‹´ ë¦¬í¬íŠ¸ë¥¼ í•™ìƒ/í•™ë¶€ëª¨ì—ê²Œ ì „ë‹¬

### Scenario WP8.5-1: í™•ì •ëœ ë¦¬í¬íŠ¸ë¥¼ í•™ìƒ/í•™ë¶€ëª¨ì—ê²Œ ê³µìœ 

**Given:**
- ìƒë‹´ ë¦¬í¬íŠ¸ê°€ status=FINALIZED ìƒíƒœì´ë‹¤.
- ìƒë‹´ ëŒ€ìƒ í•™ìƒê³¼ í•™ë¶€ëª¨ê°€ ëª¨ë‘ ê³„ì •ì„ ë³´ìœ í•˜ê³  ìˆë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ "ë¦¬í¬íŠ¸ ê³µìœ " ë²„íŠ¼ì„ í´ë¦­í•œë‹¤.

**Then:**
- sharedAtì— í˜„ì¬ ì‹œê°„ì´ ê¸°ë¡ëœë‹¤.
- í•™ìƒ/í•™ë¶€ëª¨ì˜ "ê³µìœ ë°›ì€ ë¦¬í¬íŠ¸" ëª©ë¡ì—ì„œ ì¡°íšŒ ê°€ëŠ¥í•´ì§„ë‹¤.
- í•™ìƒ/í•™ë¶€ëª¨ì—ê²Œ ì•Œë¦¼ì´ ì „ì†¡ëœë‹¤:
  - "ìƒˆë¡œìš´ ìƒë‹´ ë¦¬í¬íŠ¸ê°€ ê³µìœ ë˜ì—ˆìŠµë‹ˆë‹¤"
- EventLogì— REPORT_SHARED ì´ë²¤íŠ¸ê°€ ê¸°ë¡ëœë‹¤.

**ì„ í–‰ Scenario:** WP8.4-5

---

### Scenario WP8.5-2: ì•„ì§ í™•ì •ë˜ì§€ ì•Šì€ ë¦¬í¬íŠ¸ë¥¼ ê³µìœ  ì‹œë„

**Given:**
- ë¦¬í¬íŠ¸ê°€ status=DRAFT ìƒíƒœì´ë‹¤.

**When:**
- ì»¨ì„¤í„´íŠ¸ê°€ ê³µìœ ë¥¼ ì‹œë„í•œë‹¤.

**Then:**
- 400 Bad Requestì™€ í•¨ê»˜ "ë¦¬í¬íŠ¸ë¥¼ ë¨¼ì € í™•ì •í•´ ì£¼ì„¸ìš”" ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.
- ë¦¬í¬íŠ¸ëŠ” í•™ìƒ/í•™ë¶€ëª¨ì—ê²Œ ê³µê°œë˜ì§€ ì•ŠëŠ”ë‹¤.

**ì„ í–‰ Scenario:** ì—†ìŒ

---

### Scenario WP8.5-3: ê¶Œí•œ ì—†ëŠ” ì‚¬ìš©ìê°€ ë¦¬í¬íŠ¸ ì¡°íšŒ ì‹œë„

**Given:**
- ë¦¬í¬íŠ¸ XëŠ” í•™ìƒ Aì™€ í•™ë¶€ëª¨ Aì—ê²Œë§Œ ê³µìœ ë˜ì–´ ìˆë‹¤.

**When:**
- ë‹¤ë¥¸ í•™ìƒ B ë˜ëŠ” í•™ë¶€ëª¨ Bê°€ í•´ë‹¹ ë¦¬í¬íŠ¸ë¥¼ URLë¡œ ì§ì ‘ ì ‘ê·¼í•˜ë ¤ê³  í•œë‹¤.

**Then:**
- 403 Forbiddenê³¼ "ë¦¬í¬íŠ¸ì— ì ‘ê·¼í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤" ë©”ì‹œì§€ê°€ ë°˜í™˜ëœë‹¤.

**ì„ í–‰ Scenario:** ì—†ìŒ

---

### Scenario WP8.5-4: í•™ìƒì´ ê³µìœ ë°›ì€ ë¦¬í¬íŠ¸ ì¡°íšŒ

**Given:**
- í•™ìƒ Aì—ê²Œ ê³µìœ ëœ ë¦¬í¬íŠ¸ê°€ 2ê±´ ì¡´ì¬í•œë‹¤.
- í•™ìƒ Aê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.

**When:**
- í•™ìƒ Aê°€ "ìƒë‹´ ë¦¬í¬íŠ¸" ë©”ë‰´ë¥¼ í´ë¦­í•œë‹¤.

**Then:**
- ê³µìœ ë°›ì€ ë¦¬í¬íŠ¸ ëª©ë¡ì´ ìµœì‹ ìˆœìœ¼ë¡œ í‘œì‹œëœë‹¤:
  - ë¦¬í¬íŠ¸ ì œëª©
  - ìƒë‹´ ì¼ì‹œ
  - ì»¨ì„¤í„´íŠ¸ ì´ë¦„
  - ê³µìœ ì¼

**ì„ í–‰ Scenario:** WP8.5-1

---

### Scenario WP8.5-5: í•™ë¶€ëª¨ê°€ ìë…€ì˜ ê³µìœ ë°›ì€ ë¦¬í¬íŠ¸ ì¡°íšŒ

**Given:**
- í•™ë¶€ëª¨ Aì˜ ìë…€ì¸ í•™ìƒ Aì—ê²Œ ê³µìœ ëœ ë¦¬í¬íŠ¸ê°€ ìˆë‹¤.
- í•™ë¶€ëª¨ Aê°€ ë¡œê·¸ì¸ë˜ì–´ ìˆë‹¤.

**When:**
- í•™ë¶€ëª¨ Aê°€ ìë…€ ì„ íƒ í›„ "ìƒë‹´ ë¦¬í¬íŠ¸"ë¥¼ ì¡°íšŒí•œë‹¤.

**Then:**
- í•´ë‹¹ ìë…€ì—ê²Œ ê³µìœ ëœ ë¦¬í¬íŠ¸ ëª©ë¡ì´ í‘œì‹œëœë‹¤.

**ì„ í–‰ Scenario:** WP8.5-1, WP1.3-2 (ê°€ì¡± ì—°ê²°)

---

## ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸ ìš”ì•½

### WP8.0 - ì»¨ì„¤í„´íŠ¸ ìŠ¹ì¸ (ADMIN ì „ìš©)
| WP | Method | Endpoint | ì„¤ëª… | Role |
|-----|--------|----------|------|------|
| WP8.0 | GET | `/admin/consultants` | ì»¨ì„¤í„´íŠ¸ ëª©ë¡ (ìƒíƒœë³„ í•„í„°) | ADMIN |
| WP8.0 | POST | `/admin/consultants/:id/approve` | ì»¨ì„¤í„´íŠ¸ ìŠ¹ì¸ | ADMIN |
| WP8.0 | POST | `/admin/consultants/:id/reject` | ì»¨ì„¤í„´íŠ¸ ê±°ë¶€ | ADMIN |

### WP8.1 - ì»¨ì„¤í„´íŠ¸ ëŒ€ì‹œë³´ë“œ
| WP | Method | Endpoint | ì„¤ëª… | Role |
|-----|--------|----------|------|------|
| WP8.1 | GET | `/consultant/dashboard` | ì»¨ì„¤í„´íŠ¸ ëŒ€ì‹œë³´ë“œ | CONSULTANT |
| WP8.1 | GET | `/consultant/profile` | ë‚´ í”„ë¡œí•„ ì¡°íšŒ | CONSULTANT |
| WP8.1 | PUT | `/consultant/profile` | í”„ë¡œí•„ ìˆ˜ì • | CONSULTANT |
| WP8.1 | GET | `/consultant/availability` | ê°€ìš© ì‹œê°„ ì¡°íšŒ | CONSULTANT |
| WP8.1 | PUT | `/consultant/availability` | ê°€ìš© ì‹œê°„ ì„¤ì • | CONSULTANT |

### WP8.2 - ìƒë‹´ ì˜ˆì•½
| WP | Method | Endpoint | ì„¤ëª… | Role |
|-----|--------|----------|------|------|
| WP8.2 | GET | `/consultants` | ì»¨ì„¤í„´íŠ¸ ëª©ë¡ (í”„ë¡œí•„ í¬í•¨) | PARENT |
| WP8.2 | GET | `/consultants/:id` | ì»¨ì„¤í„´íŠ¸ ìƒì„¸ í”„ë¡œí•„ | PARENT |
| WP8.2 | GET | `/consultants/:id/slots` | ì˜ˆì•½ ê°€ëŠ¥ ì‹œê°„ ìŠ¬ë¡¯ | PARENT |
| WP8.2 | POST | `/consultations` | ìƒë‹´ ì˜ˆì•½ ìƒì„± | PARENT |
| WP8.2 | GET | `/consultations` | ìƒë‹´ ëª©ë¡ ì¡°íšŒ | ALL |
| WP8.2 | GET | `/consultations/:id` | ìƒë‹´ ìƒì„¸ ì¡°íšŒ | ALL |
| WP8.2 | PATCH | `/consultations/:id/confirm` | ì˜ˆì•½ í™•ì • | CONSULTANT |
| WP8.2 | PATCH | `/consultations/:id/reject` | ì˜ˆì•½ ê±°ì ˆ | CONSULTANT |
| WP8.2 | PATCH | `/consultations/:id/cancel` | ì˜ˆì•½ ì·¨ì†Œ | PARENT/CONSULTANT |

### WP8.3 - ìƒë‹´ ê¸°ë¡
| WP | Method | Endpoint | ì„¤ëª… | Role |
|-----|--------|----------|------|------|
| WP8.3 | GET | `/consultations/:id/student-summary` | í•™ìƒ ìš”ì•½ ì •ë³´ | CONSULTANT |
| WP8.3 | GET | `/consultations/:id/notes` | ìƒë‹´ ë…¸íŠ¸ ëª©ë¡ | CONSULTANT |
| WP8.3 | POST | `/consultations/:id/notes` | ìƒë‹´ ë…¸íŠ¸ ì €ì¥ | CONSULTANT |
| WP8.3 | PUT | `/consultations/:id/notes/:noteId` | ë…¸íŠ¸ ìˆ˜ì • | CONSULTANT |
| WP8.3 | DELETE | `/consultations/:id/notes/:noteId` | ë…¸íŠ¸ ì‚­ì œ | CONSULTANT |
| WP8.3 | PATCH | `/consultations/:id/complete` | ìƒë‹´ ì™„ë£Œ ì²˜ë¦¬ | CONSULTANT |

### WP8.4 - AI ë¦¬í¬íŠ¸
| WP | Method | Endpoint | ì„¤ëª… | Role |
|-----|--------|----------|------|------|
| WP8.4 | POST | `/consultations/:id/report/generate` | AI ë¦¬í¬íŠ¸ ì´ˆì•ˆ ìƒì„± | CONSULTANT |
| WP8.4 | GET | `/consultations/:id/report` | ë¦¬í¬íŠ¸ ì¡°íšŒ | CONSULTANT |
| WP8.4 | PUT | `/consultations/:id/report` | ë¦¬í¬íŠ¸ ìˆ˜ì • | CONSULTANT |
| WP8.4 | POST | `/consultations/:id/report/finalize` | ë¦¬í¬íŠ¸ í™•ì • | CONSULTANT |

### WP8.5 - ë¦¬í¬íŠ¸ ê³µìœ 
| WP | Method | Endpoint | ì„¤ëª… | Role |
|-----|--------|----------|------|------|
| WP8.5 | POST | `/consultations/:id/report/share` | ë¦¬í¬íŠ¸ ê³µìœ  | CONSULTANT |
| WP8.5 | GET | `/reports/received` | ê³µìœ ë°›ì€ ë¦¬í¬íŠ¸ ëª©ë¡ | STUDENT/PARENT |
| WP8.5 | GET | `/reports/received/:reportId` | ê³µìœ ë°›ì€ ë¦¬í¬íŠ¸ ìƒì„¸ | STUDENT/PARENT |
| WP8.5 | GET | `/reports/received/children/:childId` | ìë…€ì˜ ë¦¬í¬íŠ¸ ëª©ë¡ | PARENT |

---

## ğŸ“¦ í•„ìš”í•œ ìŠ¤í‚¤ë§ˆ ëª¨ë¸

### ê¸°ì¡´ ìŠ¤í‚¤ë§ˆ ìˆ˜ì • í•„ìš”

#### 1. EventTypeì— ìƒë‹´ ê´€ë ¨ íƒ€ì… ì¶”ê°€
```prisma
enum EventType {
  // ... ê¸°ì¡´ íƒ€ì…ë“¤
  CONSULTATION_REQUESTED   // ìƒë‹´ ì˜ˆì•½ ìš”ì²­
  CONSULTATION_CONFIRMED   // ìƒë‹´ í™•ì •
  CONSULTATION_COMPLETED   // ìƒë‹´ ì™„ë£Œ
  REPORT_SHARED            // ë¦¬í¬íŠ¸ ê³µìœ 
}
```

#### 2. AIOutputTypeì— ìƒë‹´ ë¦¬í¬íŠ¸ íƒ€ì… ì¶”ê°€
```prisma
enum AIOutputType {
  // ... ê¸°ì¡´ íƒ€ì…ë“¤
  CONSULTATION_REPORT      // AI ìƒë‹´ ë¦¬í¬íŠ¸ ì´ˆì•ˆ
}
```

#### 3. User ëª¨ë¸ì— ì»¨ì„¤í„´íŠ¸ í”„ë¡œí•„ ë° ê´€ê³„ ì¶”ê°€
```prisma
model User {
  // ... ê¸°ì¡´ í•„ë“œë“¤
  
  // ì»¨ì„¤í„´íŠ¸ ì „ìš© í”„ë¡œí•„ í•„ë“œ
  bio            String?    @db.Text  // ì†Œê°œê¸€
  specialty      String?              // ì „ë¬¸ ë¶„ì•¼
  experience     String?    @db.Text  // ê²½ë ¥/ìê²©
  profileImage   String?              // í”„ë¡œí•„ ì´ë¯¸ì§€ URL
  
  // M9 ì„ì‹œ í•„ë“œ (ê²°ì œ ì—°ë™ ì „)
  hasPremium     Boolean    @default(false)
  
  // M8 ê´€ê³„ ì¶”ê°€
  consultantAvailabilities ConsultantAvailability[]
  studentConsultations     Consultation[] @relation("StudentConsultations")
  parentConsultations      Consultation[] @relation("ParentConsultations")
  consultantConsultations  Consultation[] @relation("ConsultantConsultations")
  notifications            Notification[]
}
```

---

### ì‹ ê·œ ëª¨ë¸

### ConsultantAvailability (ê°€ìš© ì‹œê°„)
```prisma
model ConsultantAvailability {
  id           String   @id @default(cuid())
  consultantId String
  dayOfWeek    Int      // 0=ì¼ìš”ì¼, 1=ì›”ìš”ì¼, ..., 6=í† ìš”ì¼
  startTime    String   // "09:00"
  endTime      String   // "18:00"
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  consultant User @relation(fields: [consultantId], references: [id])
  
  @@unique([consultantId, dayOfWeek])
  @@map("consultant_availabilities")
}
```

### Consultation (ìƒë‹´ ì˜ˆì•½)
```prisma
enum ConsultationStatus {
  PENDING
  CONFIRMED
  COMPLETED
  CANCELLED
}

enum ConsultationMethod {
  ONLINE
  OFFLINE
}

model Consultation {
  id           String              @id @default(cuid())
  studentId    String
  parentId     String
  consultantId String
  status       ConsultationStatus  @default(PENDING)
  method       ConsultationMethod  @default(ONLINE)
  scheduledAt  DateTime
  duration     Int                 @default(60)
  topic        String?             @db.Text
  cancelReason String?
  completedAt  DateTime?
  createdAt    DateTime            @default(now())
  updatedAt    DateTime            @updatedAt

  student    User                 @relation("StudentConsultations", ...)
  parent     User                 @relation("ParentConsultations", ...)
  consultant User                 @relation("ConsultantConsultations", ...)
  notes      ConsultationNote[]
  report     ConsultationReport?
  
  @@map("consultations")
}
```

### ConsultationNote (ìƒë‹´ ë…¸íŠ¸)
```prisma
model ConsultationNote {
  id             String   @id @default(cuid())
  consultationId String
  content        String   @db.Text
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  consultation Consultation @relation(fields: [consultationId], references: [id], onDelete: Cascade)
  
  @@map("consultation_notes")
}
```

### ConsultationReport (ìƒë‹´ ë¦¬í¬íŠ¸)
```prisma
enum ReportStatus {
  DRAFT
  FINALIZED
}

model ConsultationReport {
  id             String       @id @default(cuid())
  consultationId String       @unique
  title          String
  summary        String?      @db.Text
  content        String       @db.Text
  aiDraftContent String?      @db.Text
  status         ReportStatus @default(DRAFT)
  sharedAt       DateTime?
  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @updatedAt

  consultation Consultation @relation(fields: [consultationId], references: [id], onDelete: Cascade)
  
  @@map("consultation_reports")
}
```

### Notification (ì•Œë¦¼) - Optional
```prisma
model Notification {
  id        String   @id @default(cuid())
  userId    String
  type      String   // CONSULTATION_REQUESTED, CONSULTATION_CONFIRMED, REPORT_SHARED
  title     String
  message   String   @db.Text
  isRead    Boolean  @default(false)
  metadata  String?  @db.Text
  createdAt DateTime @default(now())

  user User @relation(fields: [userId], references: [id])
  
  @@index([userId, isRead])
  @@map("notifications")
}
```

---

## ğŸ”— M8 â†” ê¸°ì¡´ ëª¨ë“ˆ ì—°ë™

| ê¸°ì¡´ ëª¨ë“ˆ | ì—°ë™ í¬ì¸íŠ¸ |
|----------|------------|
| **M1 Auth** | CONSULTANT Role, ConsultantStatus, JWT Guard |
| **M2 Student Data** | í•™ìƒ ìš”ì•½ ì •ë³´ ì¡°íšŒ ì‹œ ì„±ì /í™œë™/ì¶œê²°/ë´‰ì‚¬ ë°ì´í„° |
| **M4 Diagnosis** | ì§„ë‹¨ ê²°ê³¼ ì¡°íšŒ, ì¶”ì²œ í•™êµ |
| **M5 AI** | AI ë¦¬í¬íŠ¸ ì´ˆì•ˆ ìƒì„± ì‹œ Orchestrator í™œìš© |
| **M6 Task** | í•™ìƒì˜ ì•¡ì…˜ í”Œëœ ì§„í–‰ í˜„í™© |
| **M7 Dashboard** | í•™ìƒ ìš”ì•½ ì •ë³´ (ê¸°ì¡´ API ì¬ì‚¬ìš© ê°€ëŠ¥) |

---

## âš ï¸ M9 ì˜ì¡´ì„± (êµ¬ë… ì²´í¬)

WP8.2-2ì—ì„œ êµ¬ë… ì²´í¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.

**ì„ì‹œ í•´ê²°ì±… (M9 êµ¬í˜„ ì „):**
- User ëª¨ë¸ì— `hasPremium: Boolean @default(false)` í•„ë“œ ì¶”ê°€
- ë˜ëŠ” MVPì—ì„œëŠ” êµ¬ë… ì²´í¬ ìƒëµ

**M9 ì™„ë£Œ í›„:**
- Subscription ëª¨ë¸ê³¼ ì—°ë™í•˜ì—¬ ì‹¤ì œ êµ¬ë… ìƒíƒœ í™•ì¸
